#!/bin/bash

options="  Shutdown\n󰒲  Suspend\n   Restart\n󰌾   Lock\n   Logout\n󰤄   Hibernate\n   Cancel"

# Options passed to fuzzel
lines="$(echo "$options" | grep -oF '\n' | wc -l)"
rofi_command="fuzzel -d -w 11 -l $((lines + 1)) -a top-right --hide-prompt"
selected="$(echo -e "$options" | $rofi_command | awk '{print tolower ($2)}')"
case $selected in
shutdown)
  exec systemctl poweroff
  ;;
suspend)
  exec systemctl suspend
  ;;
restart)
  exec systemctl reboot
  ;;
logout)
  exec loginctl terminate-user $USER
  ;;
lock)
  exec loginctl lock-session
  ;;
hibernate)
  exec systemctl hibernate
  ;;
cancel)
  exec killall fuzzel
  ;;
esac
